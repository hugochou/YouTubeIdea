# YouTubeIdea - YouTube视频内容AI助手

## 项目需求

### 核心功能
1. **视频转文字**
   - 用户输入YouTube视频URL
   - 点击"提取内容"按钮
   - AI将视频声音转换为文字
   - 在界面上显示转录文本

2. **文字翻译**
   - 自动检测转录文本语言
   - 如果不是中文，使用AI翻译成中文
   - 在界面上显示翻译结果

3. **文字润色**
   - 对中文文本进行AI润色处理
   - 修正错别字
   - 优化语言流畅度
   - 提供话题延伸思考
   - 生成3个相关#标签

### 界面设计
1. **首页**
   - YouTube视频URL输入框
   - "提取内容"按钮
   - 显示区域：
     * AI转录文本
     * AI翻译文本
     * AI润色文本

2. **历史页面**
   - 按时间倒序显示历史记录
   - 每条记录包含：
     * 视频URL
     * AI转录文本
     * AI翻译文本
     * AI润色文本
   - 使用卡片式布局

3. **我的页面**
   - 功能待定

## 技术实现
- 使用SwiftUI开发macOS应用
- 集成SiliconFlow API:
  * 音频转文字API
  * 文字处理API

## 开发计划
1. 搭建基础TabView导航框架
2. 实现首页UI及功能
3. 实现历史页面
4. 预留我的页面 

# 视频处理流程

## 状态流转说明

### 1. 初始状态：等待下载
- 用户输入URL并点击"开始处理"按钮
- 系统生成新记录，初始状态设为"等待下载"
- "开始处理"按钮变为"处理中"状态且不可点击

### 2. 下载阶段：等待下载 -> 等待转录
- 系统自动开始下载视频和音频文件
- 显示下载进度条
- 下载完成后状态自动变更为"等待转录"

### 3. 转录阶段：等待转录 -> 等待翻译/等待润色
- 系统使用AI开始音频转录
- 转录文本区域显示"处理中"
- 转录完成后：
  - 如果转录文本为中文：状态直接变为"等待润色"
  - 如果转录文本为非中文：状态变为"等待翻译"
- 转录文本存入CoreData的转录文本字段

### 4. 翻译阶段：等待翻译 -> 等待润色
- 系统使用AI开始翻译转录文本
- 翻译文本区域显示"处理中"
- 翻译完成后状态变为"等待润色"
- 翻译后的文本存入CoreData对应字段

### 5. 润色阶段：等待润色 -> 已完成
- 系统使用AI开始润色翻译文本
- 润色文本区域显示"处理中"
- 润色完成后状态变为"已完成"
- 润色后的文本存入CoreData对应字段

## 状态流转图

等待下载 -> 等待转录 -> [等待翻译] -> 等待润色 -> 已完成

注：方括号中的"等待翻译"状态仅在原文为非中文时才会进入 